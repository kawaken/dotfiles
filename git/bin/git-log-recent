#!/usr/bin/env zsh

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ–‡å­—åˆ—ã‚’åˆ†ã‹ã‚Šã‚„ã™ãå®šç¾©
format="%C(yellow)%h%C(reset)"                                    # ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ï¼ˆé»„è‰²ï¼‰
format+=" "                                                         # ã‚¹ãƒšãƒ¼ã‚¹
format+="%C(cyan)%ad%C(reset)"                                     # æ—¥ä»˜ï¼ˆã‚·ã‚¢ãƒ³ï¼‰
format+=" "                                                         # ã‚¹ãƒšãƒ¼ã‚¹
format+="%(trailers:key=Co-Authored-By,valueonly,unfold,separator=)" # Co-Authored-By
format+="%s"                                                        # ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
format+="%C(auto)%d%C(reset)"                                      # ãƒ–ãƒ©ãƒ³ãƒãƒ»ã‚¿ã‚°æƒ…å ±ï¼ˆè‡ªå‹•è‰²ï¼‰

{
    echo -e "\033[1;34m[æœ€è¿‘2é€±é–“]\033[0m"
    git log --color=always --pretty=format:"$format" --date=relative --graph --since='2 weeks ago' HEAD origin/HEAD "$@" \
        | sed 's/Claude <noreply@anthropic.com>/ğŸ¤– /'
} | less -RFX