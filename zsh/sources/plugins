mkdir -p $HOME/.zsh

function plug() {
  d="${1##*/}"
  if [ ! -d $HOME/.zsh/$d ]; then
    echo -e "\033[0;31m'$d' is not found. Do 'git clone'\033[0;39m"
    git clone $1 $HOME/.zsh/$d
  fi

  f="${d/.git/.zsh}"
  if [ -f "$HOME/.zsh/$d/$f" ]; then
    source "$HOME/.zsh/$d/$f"
  else
    echo -e "\033[0;31m'$f' is not found\033[0;39m"
  fi
}

plug https://github.com/zsh-users/zsh-syntax-highlighting.git
